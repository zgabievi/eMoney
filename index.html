<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Emoney by zgabievi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Emoney</h1>
      <h2 class="project-tagline">eMoney Payment System for Laravel 5.*</h2>
      <a href="https://github.com/zgabievi/eMoney" class="btn">View on GitHub</a>
      <a href="https://github.com/zgabievi/eMoney/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/zgabievi/eMoney/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="emoney" class="anchor" href="#emoney" aria-hidden="true"><span class="octicon octicon-link"></span></a>eMoney</h1>

<p><a href="https://github.com/zgabievi/eMoney"><img src="http://i.imgsafe.org/f7905ef.jpg" alt="eMoney"></a></p>

<p><a href="https://packagist.org/packages/zgabievi/e-money"><img src="https://poser.pugx.org/zgabievi/e-money/version.png" alt="Latest Stable Version"></a>
<a href="https://packagist.org/packages/zgabievi/e-money"><img src="https://poser.pugx.org/zgabievi/e-money/d/total.png" alt="Total Downloads"></a>
<a href="https://packagist.org/packages/zgabievi/e-money"><img src="https://poser.pugx.org/zgabievi/e-money/license" alt="License"></a></p>

<p>eMoney Payment System for <a href="http://laravel.com/">Laravel 5.*</a></p>

<h2>
<a id="table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span class="octicon octicon-link"></span></a>Table of Contents</h2>

<ul>
<li>
<a href="#installation">Installation</a>

<ul>
<li><a href="#composer">Composer</a></li>
<li><a href="#laravel">Laravel</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a></li>
<li><a href="#example">Example</a></li>
<li><a href="#codes">Codes</a></li>
<li><a href="#config">Config</a></li>
<li><a href="#license">License</a></li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a id="composer" class="anchor" href="#composer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Composer</h3>

<p>Run composer command in your terminal.</p>

<pre><code>composer require zgabievi/e-money
</code></pre>

<h3>
<a id="laravel" class="anchor" href="#laravel" aria-hidden="true"><span class="octicon octicon-link"></span></a>Laravel</h3>

<p>Open <code>config/app.php</code> and find the <code>providers</code> key. Add <code>eMoneyServiceProvider</code> to the array.</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">Gabievi\eMoney\</span><span class="pl-c1">eMoneyServiceProvider</span><span class="pl-k">::</span><span class="pl-c1">class</span></span></pre></div>

<p>Find the <code>aliases</code> key and add <code>Facade</code> to the array. </p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-s"><span class="pl-pds">'</span>eMoney<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">Gabievi\eMoney\</span><span class="pl-c1">eMoneyFacade</span><span class="pl-k">::</span><span class="pl-c1">class</span></span></pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>There is main method with will call method by first parameter.
And it will return the result of the request:</p>

<p><code>eMoney::GetResult($method, ...$args);</code></p>

<p>Example:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">return</span> <span class="pl-c1">eMoney</span><span class="pl-k">::</span>GetResult(<span class="pl-s"><span class="pl-pds">'</span>GetBalance<span class="pl-pds">'</span></span>);</span></pre></div>

<p>Outputs:</p>

<div class="highlight highlight-source-json"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>Code<span class="pl-pds">"</span></span>: <span class="pl-c1">1</span>,
  <span class="pl-s"><span class="pl-pds">"</span>ExtraInfo<span class="pl-pds">"</span></span>: <span class="pl-c1">null</span>,
  <span class="pl-s"><span class="pl-pds">"</span>ID<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>374E9088F2FA45F5ABF411DFE9B06D36<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>Message<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Success<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>SystemCode<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>OK<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>Value<span class="pl-pds">"</span></span>: {
    <span class="pl-s"><span class="pl-pds">"</span>AccountBalance<span class="pl-pds">"</span></span>: {
      <span class="pl-s"><span class="pl-pds">"</span>Account<span class="pl-pds">"</span></span>: <span class="pl-c1">110100015</span>,
      <span class="pl-s"><span class="pl-pds">"</span>Balance<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>Currency<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>GEL<span class="pl-pds">"</span></span>
    }
  }
}</pre></div>

<p>Behind the scene it does something like this:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">return</span> (<span class="pl-k">array</span>)<span class="pl-c1">eMoney</span><span class="pl-k">::</span>GetBalance(<span class="pl-k">...</span><span class="pl-smi">$args</span>)<span class="pl-k">-&gt;</span><span class="pl-smi">GetBalanceResult</span>;</span></pre></div>

<hr>

<p>This is the list of all methods:</p>

<ul>
<li><code>GetServiceGroups();</code></li>
<li><code>GetServices($group_id);</code></li>
<li><code>GetServiceProperties($service_id);</code></li>
<li><code>GetServiceParameterReferences($service_parameter_id);</code></li>
<li><code>GetInfo($service_id, $parameters);</code></li>
<li><code>Pay($service_id, $amount, $currency, $txn_id, $parameters);</code></li>
<li><code>GetTransactionDetails($txn_id);</code></li>
<li><code>GetTransactionInfo($txn_id);</code></li>
<li><code>GetStatement($start_date, $end_date);</code></li>
<li><code>GetBalance();</code></li>
<li><code>ConfirmPayment($txn_id, $amount, $currency, $parameters);</code></li>
</ul>

<h2>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h2>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">return</span> <span class="pl-c1">eMoney</span><span class="pl-k">::</span>GetResult(<span class="pl-s"><span class="pl-pds">'</span>GetStatement<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>01/01/2016<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>01/14/2016<span class="pl-pds">'</span></span>);</span></pre></div>

<p>Outputs:</p>

<div class="highlight highlight-source-json"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>Code<span class="pl-pds">"</span></span>: <span class="pl-c1">1</span>,
  <span class="pl-s"><span class="pl-pds">"</span>ExtraInfo<span class="pl-pds">"</span></span>: <span class="pl-c1">null</span>,
  <span class="pl-s"><span class="pl-pds">"</span>ID<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>3D3FFA52900E468CA3E3F39CD6819E44<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>Message<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Success<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>SystemCode<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>OK<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>Value<span class="pl-pds">"</span></span>: {
    <span class="pl-s"><span class="pl-pds">"</span>StatementEntry<span class="pl-pds">"</span></span>: [
      {
        <span class="pl-s"><span class="pl-pds">"</span>Amount<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>15<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Code<span class="pl-pds">"</span></span>: <span class="pl-c1">866730178</span>,
        <span class="pl-s"><span class="pl-pds">"</span>Credit<span class="pl-pds">"</span></span>: <span class="pl-c1">110100052</span>,
        <span class="pl-s"><span class="pl-pds">"</span>Currency<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>GEL<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Date<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2016-01-12T00:00:00<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Debit<span class="pl-pds">"</span></span>: <span class="pl-c1">110100015</span>,
        <span class="pl-s"><span class="pl-pds">"</span>Description<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>12345678910, 02.04.1994, Test #1<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>ID<span class="pl-pds">"</span></span>: <span class="pl-c1">16673017</span>,
        <span class="pl-s"><span class="pl-pds">"</span>Status<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Canceled<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Type<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Test transaction<span class="pl-pds">"</span></span>
      },
      {
        <span class="pl-s"><span class="pl-pds">"</span>Amount<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Code<span class="pl-pds">"</span></span>: <span class="pl-c1">866730178</span>,
        <span class="pl-s"><span class="pl-pds">"</span>Credit<span class="pl-pds">"</span></span>: <span class="pl-c1">800000003</span>,
        <span class="pl-s"><span class="pl-pds">"</span>Currency<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>GEL<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Date<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2016-01-12T00:00:00<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Debit<span class="pl-pds">"</span></span>: <span class="pl-c1">110100015</span>,
        <span class="pl-s"><span class="pl-pds">"</span>Description<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Test transaction<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>ID<span class="pl-pds">"</span></span>: <span class="pl-c1">16673019</span>,
        <span class="pl-s"><span class="pl-pds">"</span>Status<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Canceled<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>Type<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Test transaction<span class="pl-pds">"</span></span>
      }
    ]
  }
}</pre></div>

<h2>
<a id="codes" class="anchor" href="#codes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Codes</h2>

<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Success</td>
<td>OK</td>
</tr>
<tr>
<td>11</td>
<td>Unknown</td>
<td>Unknown error</td>
</tr>
<tr>
<td>12</td>
<td>InvalidHash</td>
<td>Invalid hash</td>
</tr>
<tr>
<td>13</td>
<td>InvalidParameters</td>
<td>Some of the input parameters are invalid</td>
</tr>
<tr>
<td>14</td>
<td>InvalidDistributor</td>
<td>Invalid distributor name</td>
</tr>
<tr>
<td>16</td>
<td>ServicesProviderNotFound</td>
<td>Service provider not found</td>
</tr>
<tr>
<td>17</td>
<td>AbonentNotFound</td>
<td>Abonent not found</td>
</tr>
<tr>
<td>19</td>
<td>ParameterNotFound</td>
<td>Parameter not found</td>
</tr>
<tr>
<td>20</td>
<td>ParameterValueNotFound</td>
<td>Parameter value not found</td>
</tr>
<tr>
<td>30</td>
<td>Error</td>
<td>General error</td>
</tr>
<tr>
<td>31</td>
<td>ServiceNotFound</td>
<td>Service not found</td>
</tr>
<tr>
<td>34</td>
<td>ServiceInternalError</td>
<td>Service internal error</td>
</tr>
<tr>
<td>40</td>
<td>WrongAmount</td>
<td>Wrong amount</td>
</tr>
<tr>
<td>41</td>
<td>ServiceTimeout</td>
<td>Operation timeout</td>
</tr>
<tr>
<td>42</td>
<td>PaymentWontBeAccepted</td>
<td>Payment wont be accepted. Your company has not enough balance in eMoney</td>
</tr>
<tr>
<td>43</td>
<td>AccountOperationDenied</td>
<td>Account operation denied</td>
</tr>
<tr>
<td>44</td>
<td>AmountLessThanMin</td>
<td>Amount is less than acceptable minumum</td>
</tr>
<tr>
<td>45</td>
<td>AmountMoreThanMax</td>
<td>Amount is more than acceptable maximum</td>
</tr>
<tr>
<td>46</td>
<td>TransactionLimitExceeded</td>
<td>Transaction limit exceeded</td>
</tr>
</tbody>
</table>

<h2>
<a id="config" class="anchor" href="#config" aria-hidden="true"><span class="octicon octicon-link"></span></a>Config</h2>

<p>Publish eMoney config file using command:</p>

<pre><code>php artisan vendor:publish
</code></pre>

<p>Created file <code>config\eMoney.php</code>. Inside you can change configuration as you wish.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>eMoney is an open-sourced laravel package licensed under the MIT license</p>

<h2>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span class="octicon octicon-link"></span></a>TODO</h2>

<ul>
<li>[ ] Create tests</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/zgabievi/eMoney">Emoney</a> is maintained by <a href="https://github.com/zgabievi">zgabievi</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
